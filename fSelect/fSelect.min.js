'use strict';(function(a){function v(b){var c=0<b.find(".fs-option:not(.hidden)").length;b.find(".fs-no-results").toggleClass("hidden",c)}function w(b){b.find(".fs-option.hl").removeClass("hl");b.find(".fs-search input").focus();window.fSelect.idx=-1}function x(b){var c=b.find(".fs-options"),g=b.find(".fs-option.hl");b=g.offset().top+c.scrollTop();g=b+g.outerHeight();var e=c.offset().top+c.scrollTop(),d=e+c.outerHeight();g>d?(b=c.scrollTop()+g-d,c.scrollTop(b)):b<e&&(b=c.scrollTop()-e-b,c.scrollTop(b))}
function p(b){"undefined"==typeof b&&null!=window.fSelect.active_el&&(b=window.fSelect.active_el);if("undefined"!==typeof b){var c=window.fSelect.initial_values,g=b.find("select").val();JSON.stringify(c)!=JSON.stringify(g)&&a(document).trigger("fs:closed",b)}a(".fs-wrap").removeClass("fs-open");a(".fs-dropdown").addClass("hidden");window.fSelect.active_el=null;window.fSelect.active_id=null;window.fSelect.last_choice=null}String.prototype.unaccented=function(){for(var b=[/[\300-\306]/g,/[\340-\346]/g,
/[\310-\313]/g,/[\350-\353]/g,/[\314-\317]/g,/[\354-\357]/g,/[\322-\330]/g,/[\362-\370]/g,/[\331-\334]/g,/[\371-\374]/g,/[\321]/g,/[\361]/g,/[\307]/g,/[\347]/g],c="AaEeIiOoUuNnCc".split(""),g=this,e=0;e<b.length;e++)g=g.replace(b[e],c[e]);return g};a.fn.fSelect=function(b){function c(e,d){this.$select=a(e);this.settings=d;this.create()}var g="string"===typeof b?b:a.extend({placeholder:"Select Music Taste",numDisplayed:3,overflowText:"{n} selected",searchText:"Search",noResultsText:"No results found",
showSearch:!0,optionFormatter:!1},b);c.prototype={create:function(){this.optgroup=this.idx=0;this.selected=[].concat(this.$select.val());this.settings.multiple=this.$select.is("[multiple]");var e="",d="",h=this.buildOptions(this.$select);this.settings.showSearch&&(e='<div class="fs-search"><input type="text" placeholder="'+this.settings.searchText+'" /></div>');""!==this.settings.noResultsText&&(d='<div class="fs-no-results hidden">'+this.settings.noResultsText+"</div>");e=('<div class="fs-label-wrap"><div class="fs-label"></div><span onClick="clearDropdown(this)" class="fs-btnclear hide">Clear</span><span class="fs-arrow"></span></div><div class="fs-dropdown hidden">{search}{no-results}<div class="fs-options">'+
(h+'</div><button type="button">Apply</button></div>')).replace("{search}",e);e=e.replace("{no-results}",d);this.$select.wrap('<div class="fs-wrap'+(this.settings.multiple?" multiple":"")+'" tabindex="0" />');this.$select.addClass("hidden");this.$select.before(e);this.$wrap=this.$select.closest(".fs-wrap");this.$wrap.data("id",window.fSelect.num_items);window.fSelect.num_items++;this.reloadDropdownLabel()},reload:function(){this.destroy();this.create()},destroy:function(){this.$wrap.find(".fs-label-wrap").remove();
this.$wrap.find(".fs-dropdown").remove();this.$select.unwrap().removeClass("hidden")},buildOptions:function(e){var d=this,h="";e.children().each(function(l,m){l=a(m);if("optgroup"==l.prop("nodeName").toLowerCase())h+='<div class="fs-optgroup-label" data-group="'+d.optgroup+'">'+l.prop("label")+"</div>",h+=d.buildOptions(l),d.optgroup++;else{m=l.prop("value");var n=l.attr("class");n="undefined"!==typeof n?" "+n:"";if(0<d.idx||""!=m||!d.settings.multiple){var f=l.is(":disabled")?" disabled":"";l='<div class="fs-option'+
(-1<a.inArray(m,d.selected)?" selected":"")+f+(" g"+d.optgroup)+n+'" data-value="'+m+'" data-index="'+d.idx+'"><span class="fs-checkbox"><i></i></span><div class="fs-option-label">'+l.html()+"</div></div>";"function"===typeof d.settings.optionFormatter&&(l=d.settings.optionFormatter(l));h+=l;d.idx++}}});return h},reloadDropdownLabel:function(){var e=this.settings,d=[];this.$wrap.find(".fs-option.selected").each(function(l,m){d.push(a(m).find(".fs-option-label").html())});if(1>d.length){var h=this.$wrap.find("select").attr("id");
console.log("selectedDropdownId: "+h);"compare_industry_cv_id"==h?(d="Select Industry",a(".fs-wrap.multiple .fs-checkbox").css("display","none"),a(".fs-wrap.multiple .fs-option").css("padding-left","5px")):"compare_sub_industry_cv_id"==h?(d="Select Sub Industry",a(".fs-wrap.multiple .fs-checkbox").css("display","none"),a(".fs-wrap.multiple .fs-option").css("padding-left","5px")):"compare_brand_cv_id"==h?(d="Select CV",a(".fs-wrap.multiple .fs-checkbox").css("display","none"),a(".fs-wrap.multiple .fs-option").css("padding-left",
"5px")):d=e.placeholder}else d=d.length>e.numDisplayed?e.overflowText.replace("{n}",d.length):d.join(", ");this.$wrap.find(".fs-label").html(d);this.$wrap.toggleClass("fs-default",d===e.placeholder)}};return this.each(function(){var e=a(this).data("fSelect");e||(e=new c(this,g),a(this).data("fSelect",e));if("string"===typeof g)e[g]()})};window.fSelect={num_items:0,active_id:null,active_el:null,last_choice:null,idx:-1};a(document).on("click",".fs-option:not(.hidden, .disabled)",function(b){var c=a(this).closest(".fs-wrap"),
g=c.find("select"),e=!1,d=c.find("select").attr("id");console.log("selectedDropdownId: "+d);if(!c.hasClass("fs-disabled")){if(c.hasClass("multiple")){var h=[];if(b.shiftKey&&null!=window.fSelect.last_choice){b=parseInt(a(this).attr("data-index"));var l=!a(this).hasClass("selected"),m=Math.max(window.fSelect.last_choice,b);for(i=Math.min(window.fSelect.last_choice,b);i<=m;i++)c.find(".fs-option[data-index="+i+"]").not(".hidden, .disabled").each(function(){a(this).toggleClass("selected",l)})}else window.fSelect.last_choice=
parseInt(a(this).attr("data-index")),a(this).toggleClass("selected");c.find(".fs-option.selected").each(function(f,q){h.push(a(q).attr("data-value"))})}else h=a(this).attr("data-value"),c.find(".fs-option").removeClass("selected"),a(this).addClass("selected"),e=!0;if("add_cv_id_in_best_audio_brands"==d){a("#add_cv_id_in_best_audio_brands_val").val(h);d=a("#status_type").val();if("replace"==d.split("_")[1]){d=a("#tbl_id_"+d.split("_")[0]).val();a("#cv_id_"+d).val(a("#add_cv_id_in_best_audio_brands_val").val().split("$_$")[0]);
a("#cv_name_"+d).val(a("#add_cv_id_in_best_audio_brands_val").val().split("$_$")[1]);b=atob(a("#add_cv_id_in_best_audio_brands_val").val().split("$_$")[1]);m=atob(a("#cv_year_"+d).val());var n=atob(a("#old_cv_name_"+d).val());d="Are you sure you want to replace<br>Brand <span style='font-size:18px; font-weight:bold;'>"+b+" "+m+"</span> with Brand <span style='font-size:18px; font-weight:bold;'>"+n+"</span> <br>at Rank <span style='font-size:18px; font-weight:bold;'>"+d+"</span>?"}else d=a("#tbl_id_"+
d.split("_")[0]).val(),a("#cv_id_"+d).val(a("#add_cv_id_in_best_audio_brands_val").val().split("$_$")[0]),a("#cv_name_"+d).val(a("#add_cv_id_in_best_audio_brands_val").val().split("$_$")[1]),b=atob(a("#add_cv_id_in_best_audio_brands_val").val().split("$_$")[1]),m=atob(a("#cv_year_"+d).val()),d="Do you want to add<br>Brand <span style='font-size:18px; font-weight:bold;'>"+b+" "+m+"</span><br>at Rank <span style='font-size:18px; font-weight:bold;'>"+d+"</span>?";a(".warrningMsg").append("<p style='margin-top:15px; font-size:14px; text-align:center;'>"+
d+"</p>");a("#abepnDataHoldr").removeClass("hide")}else"add_brand_in_social_blade_sync_process"==d?0!=h&&""!=h?(a(".social_media_name option").remove(),a(".social_media_name").append('<option value="0">Select Channel Name</option>'),a("#sb_btn").attr("disabled","true"),a(".btnPlus").addClass("hide"),d=a("#getchnUrl").val()+"/"+h,a.ajax({type:"GET",url:d,data:"",success:function(f){if(""!=f&&void 0!=f){console.log("chn data",f);Object.entries(f);f=Object.entries(f);console.log(f,f.length);for(var q=
"",r="",t="",u="",k=0;k<f.length;k++)console.log(f[k][0],f[k][1]),1==f[k][0].split("-")[0]&&(q+='<option value="'+f[k][1]+'">'+f[k][1]+"</option>"),2==f[k][0].split("-")[0]&&(r+='<option value="'+f[k][1]+'">'+f[k][1]+"</option>"),3==f[k][0].split("-")[0]&&(t+='<option value="'+f[k][1]+'">'+f[k][1]+"</option>"),4==f[k][0].split("-")[0]&&(u+='<option value="'+f[k][1]+'">'+f[k][1]+"</option>");""!=q&&a("#yt_social_media_name_0").append(q);""!=r&&a("#ig_social_media_name_0").append(r);""!=t&&a("#tt_social_media_name_0").append(t);
""!=u&&a("#twt_social_media_name_0").append(u)}},complete:function(f){""!=f&&void 0!=f&&a("#channel_name_holder").removeClass("hide")}})):(a("#channel_name_holder").addClass("hide"),a(".social_media_name option").remove(),a(".social_media_name").append('<option value="0">Select Channel Name</option>'),a("#sb_btn").attr("disabled","true")):"cv_ind_sind_name"==d?(a("#cv_ind_sind_name_val").val(h),a("#radarChartImg1").val(""),a("#radarChartImg2").val(""),a("#radarChartImg_1a").addClass("hide"),a("#radarChartImg_2a").addClass("hide"),
a("#radarChartImg_1a").attr("href","#"),a("#radarChartImg_2a").attr("href","#")):(3==h.length?a(".fs-option").not(".fs-option.selected").addClass("disabled"):a(".fs-option").removeClass("disabled"),a("#cv_music_taste_name_ids").val(h));g.val(h);g.fSelect("reloadDropdownLabel");g.change();a(document).trigger("fs:changed",c);e&&p(c)}});a(document).on("keyup",".fs-search input",function(b){if(40==b.which)a(this).blur();else{b=a(this).closest(".fs-wrap");var c=a(this).val().replace(/[|\\{}()[\]^$+*?.]/g,
"\\$&");b.find(".fs-option, .fs-optgroup-label").removeClass("hidden");""!=c&&b.find(".fs-option").each(function(){var g=new RegExp(c.unaccented(),"gi");null===a(this).find(".fs-option-label").text().unaccented().match(g)&&a(this).addClass("hidden")});w(b);v(b)}});a(document).on("click",function(b){b=a(b.target);var c=b.closest(".fs-wrap");if(0<c.length){if(c.data("id")!==window.fSelect.active_id&&p(),b.hasClass("fs-label")||b.hasClass("fs-arrow"))c.find(".fs-dropdown").hasClass("hidden")?(window.fSelect.active_el=
c,window.fSelect.active_id=c.data("id"),window.fSelect.initial_values=c.find("select").val(),a(document).trigger("fs:opened",c),c.find(".fs-dropdown").removeClass("hidden"),c.addClass("fs-open"),w(c),v(c)):p(c)}else p()});a(document).on("keydown",function(b){var c=window.fSelect.active_el,g=a(b.target);if(g.hasClass("fs-wrap")){if(32==b.which||13==b.which){b.preventDefault();g.find(".fs-label").trigger("click");return}}else if(0<g.closest(".fs-search").length){if(32==b.which)return}else if(null===
c)return;38==b.which?(b.preventDefault(),c.find(".fs-option.hl").removeClass("hl"),b=c.find(".fs-option[data-index="+window.fSelect.idx+"]"),b=b.prevAll(".fs-option:not(.hidden, .disabled)"),0<b.length?(window.fSelect.idx=parseInt(b.attr("data-index")),c.find(".fs-option[data-index="+window.fSelect.idx+"]").addClass("hl"),x(c)):(window.fSelect.idx=-1,c.find(".fs-search input").focus())):40==b.which?(b.preventDefault(),b=c.find(".fs-option[data-index="+window.fSelect.idx+"]"),b=1>b.length?c.find(".fs-option:not(.hidden, .disabled):first"):
b.nextAll(".fs-option:not(.hidden, .disabled)"),0<b.length&&(window.fSelect.idx=parseInt(b.attr("data-index")),c.find(".fs-option.hl").removeClass("hl"),c.find(".fs-option[data-index="+window.fSelect.idx+"]").addClass("hl"),x(c))):32==b.which||13==b.which?(b.preventDefault(),c.find(".fs-option.hl").click()):27==b.which&&p(c)})})(jQuery);